import{_ as s,c as i,o as a,a1 as t}from"./chunks/framework.C-JBMlMO.js";const y=JSON.parse('{"title":"DuckDB 函数","description":"","frontmatter":{},"headers":[],"relativePath":"code/database/duckdbfunction.md","filePath":"code/database/duckdbfunction.md"}'),n={name:"code/database/duckdbfunction.md"},l=t(`<h1 id="duckdb-函数" tabindex="-1">DuckDB 函数 <a class="header-anchor" href="#duckdb-函数" aria-label="Permalink to &quot;DuckDB 函数&quot;">​</a></h1><h2 id="_1-日期转换函数" tabindex="-1">1. 日期转换函数 <a class="header-anchor" href="#_1-日期转换函数" aria-label="Permalink to &quot;1. 日期转换函数&quot;">​</a></h2><p><code>strftime(timestamp, format)</code> 根据指定的模式将时间戳或日期转换为字符串</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">DATE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%d/%m/%Y&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 02/03/1992</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%A, %-d %B %Y - %I:%M:%S %p&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- Monday, 2 March 1992 - 08:32:45 PM</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%x&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 1992-03-02</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%X&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 20:32:45</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%Y&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 1992</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%-m&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%m&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 03</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%-j&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 62</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">SELECT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> strftime(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">TIMESTAMP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;1992-03-02 20:32:45&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;%j&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">-- 062</span></span></code></pre></div><p>常用的格式(format)说明符，<a href="https://duckdb.org/docs/sql/functions/dateformat" target="_blank" rel="noreferrer">查看更多格式</a></p><table tabindex="0"><thead><tr><th>说明符</th><th style="text-align:center;">描述</th><th style="text-align:right;">例子</th></tr></thead><tbody><tr><td>%x</td><td style="text-align:center;">ISO 日期表示</td><td style="text-align:right;">1992-03-02</td></tr><tr><td>%X</td><td style="text-align:center;">ISO 时间表示</td><td style="text-align:right;">10:30:20</td></tr><tr><td>%Y</td><td style="text-align:center;">以十进制数表示的年份和世纪。</td><td style="text-align:right;">1992</td></tr><tr><td>%m</td><td style="text-align:center;">以零填充的十进制数表示的月份</td><td style="text-align:right;">03</td></tr><tr><td>%-m</td><td style="text-align:center;">以十进制数表示的月份</td><td style="text-align:right;">3</td></tr><tr><td>%j</td><td style="text-align:center;">一年中的第几天，以零填充的十进制数表示</td><td style="text-align:right;">062</td></tr><tr><td>%-j</td><td style="text-align:center;">以十进制数表示的一年中的第几天</td><td style="text-align:right;">62</td></tr></tbody></table><h2 id="_2-日期提取函数" tabindex="-1">2. 日期提取函数 <a class="header-anchor" href="#_2-日期提取函数" aria-label="Permalink to &quot;2. 日期提取函数&quot;">​</a></h2><p>拼接年月</p><div class="language-mysql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">mysql</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>SELECT PRINTF(&#39;%04d-%02d&#39;, YEAR(DATE &#39;1992-02-03&#39;), MONTH(DATE &#39;1992-02-03&#39;)) AS year_month;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>-- 1992-02</span></span></code></pre></div>`,9),h=[l];function e(p,k,d,r,E,g){return a(),i("div",null,h)}const F=s(n,[["render",e]]);export{y as __pageData,F as default};
